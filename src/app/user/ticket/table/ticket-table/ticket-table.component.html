<div fxLayout fxLayoutAlign="space-between center">
  <!-- Search Filter -->
  <div>
    <mat-form-field>
      <input matInput (keyup)="applyFilter($event.target.value)" placeholder="Search">
      <mat-icon matSuffix>search</mat-icon>
    </mat-form-field>
  </div>
</div>

<div class="mat-elevation-z3">
  <table mat-table [dataSource]="dataSource" multiTemplateDataRows matSort>

    <!-- Checkbox Column -->

    <!-- sap code -->
    <ng-container matColumnDef="SalesOffice">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Sales Office</th>
      <td mat-cell *matCellDef="let row"> {{row.SalesOffice}} </td>
    </ng-container>

    <!-- Name Column -->
    <ng-container matColumnDef="GtmCity">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> Gtm City </th>
      <td mat-cell *matCellDef="let row"> {{row.GtmCity}} </td>
    </ng-container>

    <!-- Sales Office  Column -->
    <ng-container matColumnDef="Division">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> Division </th>
      <td mat-cell *matCellDef="let row"> {{row.Division}} </td>
    </ng-container>

    <!-- Gtm City Column -->
    <ng-container matColumnDef="DC">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> DC </th>
      <td mat-cell *matCellDef="let row"> {{row.DC}} </td>
    </ng-container>

    <!-- Sales Office  Column -->
    <ng-container matColumnDef="UserName">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> User Name </th>
      <td mat-cell *matCellDef="let row"> {{row.UserName}} </td>
    </ng-container>

    <!-- Sales Office  Column -->
    <ng-container matColumnDef="TicketNo">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Ticket Number </th>
      <td mat-cell *matCellDef="let row"> {{row.TicketNo}} </td>
    </ng-container>

    <!-- Sales Office  Column -->
    <ng-container matColumnDef="Type">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Technical</th>
      <td mat-cell *matCellDef="let row"> {{row.Type}} </td>
    </ng-container>

    <!-- Gtm City Column -->
    <ng-container matColumnDef="Loginid">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> Loginid </th>
      <td mat-cell *matCellDef="let row"> {{row.Loginid}} </td>
    </ng-container>

    <!-- Gtm City Column -->
    <ng-container matColumnDef="status">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> Status </th>
      <td mat-cell *matCellDef="let row">
        <mat-label>Status</mat-label>
        <mat-select [value]="row.status">
          <mat-option (click)="changeStatus(row,s)" [value]="s" *ngFor="let s of status">
            {{s}}
          </mat-option>
        </mat-select>
      </td>
    </ng-container>

    <ng-container matColumnDef="expandedDetail">
      <td mat-cell *matCellDef="let row" [attr.colspan]="displayedColumns.length">
        <div fxLayout fxLayoutAlign="center" class="example-element-detail" [@detailExpand]="row == expandedElement ? 'expanded' : 'collapsed'">
          <div fxLayout>
            <div class="counter-address mat-elevation-z3">
              <h3>Details</h3>
              <div>
                <mat-list>
                  <mat-list-item>
                    <mat-icon matListIcon>edit</mat-icon>
                    <h5> Remarks : {{row.Remarks}} </h5>
                  </mat-list-item>
                  <mat-list-item>
                    <mat-icon matListIcon>date_range</mat-icon>
                    <h5> Date : {{row.Date}} - {{row.UpdatedOn}}</h5>
                  </mat-list-item>
                  <mat-list-item>
                    <mat-icon matListIcon>access_time</mat-icon>
                    <h5> Time : {{row.Time}} - {{row.UpdatedOnTime}}</h5>
                  </mat-list-item>
                </mat-list>
              </div>
            </div>
            <div class="counter-image mat-elevation-z3">
              <a href="{{row.Image}}" target="_blank">
                <img src="{{row.Image}}" alt="image" href="" target="blank">
              </a>
            </div>
          </div>
        </div>
      </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;" (click)="expandedElement =  row"
      [class.example-expanded-row]="expandedElement === row" class="example-element-row">
    </tr>
    <tr mat-row *matRowDef="let row; columns: ['expandedDetail']" class="example-detail-row"></tr>
  </table>

  <mat-paginator [pageSizeOptions]="[5, 10, 25, 100]"></mat-paginator>

</div>